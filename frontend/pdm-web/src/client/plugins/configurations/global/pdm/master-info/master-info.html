<div a3-spinner #componentSpinner [type]="'component'"></div>

<div class="master-info-container clearfix">
    <split direction="horizontal" [gutterSize]="3">

        <split-area class='tree' size="27">
            <div class="tree-area">
                <div class="fab-selector">
                    <label for="inputFab">Fab</label>
                    <select class="form-control fab" [(ngModel)]="selectedFab" (ngModelChange)="changeSelectedFab($event)"
                        style="width:240px;margin-left:5px;display:inline-block;">
                        <option *ngFor="let plant of plants" [ngValue]="plant" [selected]="plant.fabId === selectedFab.fabId">
                            {{plant.fabName}}
                        </option>
                    </select>
                </div>
                <!-- <wj-tree #tv 
                    [datas]="initialTreeDatas" 
                    [childDatas]="childDatas" 
                    (clickNode)="selectNode($event)">
                </wj-tree> -->
                <ng-tree #tv 
                    [datas]="initialTreeDatas" 
                    (clickNode)="selectNode($event)">
                </ng-tree>
            </div>
        </split-area>

        <split-area class='table' size="73">
            <div class="table-area relative" *ngIf="selectedItem">
                <!-- <div class="top-list" [ngClass]="{'top-remove': !isShowArea}" [style.height]="nodeType === 'eqp' ? '33%' : '51%'">
                    <area-list *ngIf="nodeType === 'area' && isShowArea" 
                        [datas]="areaData" 
                        (updateItem)="initWjTree($event)">
                    </area-list>
                    <parameter-list *ngIf="nodeType === 'eqp'" 
                        [datas]="paramData" 
                        [partsDatas]="partData" 
                        (updateItem)="initWjTree($event)">
                    </parameter-list>
                </div>

                <div class="middle-list" [ngClass]="{'middle-full': !isShowArea}" [style.height]="nodeType === 'eqp' ? '33%' : '51%'">
                    <eqp-list *ngIf="nodeType === 'area'" 
                        [datas]="eqpData" 
                        (updateItem)="initWjTree($event)">
                    </eqp-list>
                    <part-list *ngIf="nodeType === 'eqp'" 
                        [datas]="partData" 
                        (updateItem)="initWjTree($event)">
                    </part-list>
                </div> -->

                <div class="top-list" [style.height]="nodeType === 'eqp' ? '33%' : '51%'">
                    <area-list *ngIf="nodeType === 'area'" 
                        [datas]="areaData" 
                        (updateItem)="initWjTree($event)">
                    </area-list>
                    <parameter-list *ngIf="nodeType === 'eqp'" 
                        [datas]="paramData" 
                        [partsDatas]="partData" 
                        (updateItem)="initWjTree($event)">
                    </parameter-list>
                </div>

                <div class="middle-list" [style.height]="nodeType === 'eqp' ? '33%' : '51%'">
                    <eqp-list *ngIf="nodeType === 'area' && selectedItem.parentId !== 0" 
                        [datas]="eqpData" 
                        (updateItem)="initWjTree($event)">
                    </eqp-list>
                    <part-list *ngIf="nodeType === 'eqp'" 
                        [datas]="partData" 
                        (updateItem)="initWjTree($event)">
                    </part-list>
                </div>

                <div class="bottom-list">
                    <master-spec-rule *ngIf="nodeType === 'eqp'" 
                        [specCondition]="eqpSpecCondition"
                        (controleSpinner)="controleSpinner($event);">
                    </master-spec-rule>
                </div>
            </div>

            <div class="float-wrapper" *ngIf="!selectedItem" style="position:relative;">
                <dl>
                    <dt>
                        <i class="icon icon-nodata"></i>
                    </dt>
                    <dd class="message-title">No Data</dd>
                </dl>
            </div>
        </split-area>

    </split>
</div>

<div class="float-wrapper" *ngIf="isLoading">
    <dl>
        <dt>
            <div class="a3-spinner-data"></div>
        </dt>
        <dd class="message-title">Loading ...</dd>
    </dl>
</div>