<div class="progress" *ngIf="showProgress">
    <div class="progress-bar progress-bar-striped active" role="progressbar" attr.aria-valuenow="{{percentage}}" aria-valuemin="0"
        aria-valuemax="100" [ngStyle]="{width: percentage+'%'}">
        {{percentage}}%
    </div>
</div>
<div class="model-simulator">
        <div a3-spinner #componentSpinner [type]="'component'" ></div>
    <table>
        <tr class="modeling-container">
            <td class='condition'>
                <label>Options</label>
                <label>
                    <input type="radio" name="eventType" [(ngModel)]="eventType" value="event"> Event Base
                </label>
                <label>
                    <input type="radio" name="eventType" [(ngModel)]="eventType" value="time"> Time Base
                </label>
                <br>
                <br>
                <div class="a3-from-to" [from]="searchTimePeriod?.from" [to]="searchTimePeriod?.to" [format]="'yyyy/MM/dd hh:mm:ss'" (changedFromTo)="fromToChange($event)"></div>
                <br>
                <br>
                <div class="eqp-tree">
                    <fab-area-eqp-param-tree (changeParamSelection)="nodeClick($event)" #tree></fab-area-eqp-param-tree>
                </div>
                <br>
                <button class="btn btn-primary" [ngClass]="{candoit:treeParamSelect}" (click)="drawChart()" [disabled]='this.showProgress||treeParamSelect==false'>Draw Chart</button>
                <button class="btn btn-primary" [ngClass]="{candoit:canDrawEvent && selectedParam}" (click)="drawEvent()" [disabled]='canDrawEvent==false  || this.showProgress || selectedParam==false'>Draw Event</button>
            </td>
            <td class="chart">
                <div class="chart-container">
                    <modeling-chart #modelChart [params]="paramDatas" [eventLines]="eventLines" (selectParam)="selectParam($event)"></modeling-chart>
                </div>

            </td>
        </tr>
        <tr class="modeling-container">
            <td class='condition'>
                <div class="a3-from-to" [from]="searchTimePeriod2?.from" [to]="searchTimePeriod2?.to" [format]="'yyyy/MM/dd hh:mm:ss'" (changedFromTo)="fromToChange2($event)"></div>
                <br>
                <div class="eqp-tree">
                    <fab-area-eqp-param-tree (changeParamSelection)="nodeClick2($event)" #tree2></fab-area-eqp-param-tree>
                </div>
                <br>
                <div class="aggregation" >
                    <label>Ad-Hoc Functions</label>
                    <div *ngFor="let item of aggregations; let i=index">
                        <label>
                            <input type="checkbox" [(ngModel)]="item.checked" (change)="clickCheck()"> {{item.f}}
                        </label>
                    </div>
                </div>
                <div class="aggregation" *ngIf="eventType=='time'">
                    <label>Aggregation Time</label>
                    <input type="number" [(ngModel)]="aggregationTime">
                    <label>minutes</label>
                </div>
                <br>
                <button class="btn btn-primary"  [ngClass]="{candoit:canDrawAdHoc&& aggregationChecked && tree2ParamSelect}" (click)="adHocSummary()" [disabled]='canDrawAdHoc==false || this.showProgress || aggregationChecked==false || tree2ParamSelect==false'>Ad-Hoc Summary</button>
            </td>
            <td class="chart">
                <div class="chart-container">
                    <modeling-simulator-chart #simulationChart [params]="simulation_params"></modeling-simulator-chart>
                </div>

            </td>
    </table>
</div>