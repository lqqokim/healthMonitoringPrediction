<div class="pdm-configuration-builder part-list clearfix">
    <div class="pdm-wijmo-body">
        <div class="part-fab">
            <div class="fab-label">
                <label for="inputFab">Fab</label>
                <select class="form-control" [(ngModel)]="selectedFab" (ngModelChange)="changeSelectedFab($event)">
                    <option *ngFor="let plant of plants" [ngValue]="plant" [selected]="plant.fabId === selectedFab.fabId">
                        {{plant.fabName}}
                    </option>
                </select>
            </div>
            <div class="eqp-label">
                <label for="inputFab">Eqp</label>
                <select class="form-control" [disabled]="!eqps" [(ngModel)]="selectedEqp" (ngModelChange)="changeSelectedEqp($event)">
                    <option *ngFor="let eqp of eqps" [ngValue]="eqp" [selected]="eqp.eqpId === selectedEqp.eqpId">
                        {{eqp.eqpName}}
                    </option>
                </select>
            </div>
        </div>
        <wj-tree-view #tv [ngClass]="'custom-tree'" [itemsSource]="treeDatas" [displayMemberPath]="'areaName'" [childItemsPath]="'children'"
            [isAnimated]="true" [autoCollapse]="false" [expandOnClick]="true" (itemClicked)="selectedNode(tv)">
        </wj-tree-view>
    </div>
    <div class="pdm-part-body">
        <span class="title">Part List</span>
        <div *ngIf="!partDatas">Select Area data to view and edit information.</div>
        <div class="eqp-padding" *ngIf="partDatas">
            <div class="pdm-config-header clearfix">
                <div class="header-info">
                    <span>Selection Path: </span>
                    <span class="select">{{pathStr}}</span>
                </div>
                <div class="header-btn" *ngIf="isActive">
                    <button class="btn btn-default" type="button" (click)="deletePart()">Delete</button>
                    <button class="btn btn-default" type="button" (click)="modifyPart('modify')">Modify</button>
                    <button class="btn btn-default" type="button" (click)="createPart('create')">Create</button>
                </div>
            </div>
            <div class="a3-app-configuration-body">
                <div class="a3-app-configuration-chart-wrapper no-padding">
                    <wj-flex-grid #WijmoGridInstance *ngIf="isActive" [itemsSource]="partDatas" [selectionMode]="'Row'" [isReadOnly]="true" [headersVisibility]="'Column'"
                        (selectionChanged)="selectedRow(WijmoGridInstance, $event)">
                        <wj-flex-grid-column [width]="'*'" [header]="'EQP'" [binding]="'eqpName'" [align]="'center'"></wj-flex-grid-column>
                        <wj-flex-grid-column [width]="'*'" [header]="'Parameter'" [binding]="'paramName'" [align]="'center'"></wj-flex-grid-column>
                        <wj-flex-grid-column [width]="'*'" [header]="'Bearing'" [binding]="'bearing'" [align]="'center'"></wj-flex-grid-column>
                        <wj-flex-grid-column [width]="'*'" [header]="'Name'" [binding]="'name'" [align]="'center'"></wj-flex-grid-column>
                        <wj-flex-grid-column [width]="'*'" [header]="'Ratio'" [binding]="'ratio'" [align]="'center'"></wj-flex-grid-column>
                        <wj-flex-grid-column [width]="'*'" [header]="'NPAR1'" [binding]="'npar1'" [align]="'center'"></wj-flex-grid-column>
                        <wj-flex-grid-column [width]="'*'" [header]="'NPAR2'" [binding]="'npar2'" [align]="'center'"></wj-flex-grid-column>
                        <wj-flex-grid-column [width]="'*'" [header]="'Sort order'" [binding]="'sortOrder'" [align]="'center'"></wj-flex-grid-column>
                    </wj-flex-grid>
                </div>
            </div>
        </div>
    </div>
</div>
